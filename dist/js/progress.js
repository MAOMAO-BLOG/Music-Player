!function(t){function e(){this.duration=0,this.frameId=null,this.startTime=0,this.lastPer=0,this.init()}function i(t){this.obj=t,this.startPointX=0,this.startLeft=0,this.percent=0}e.prototype={init(){this.getDom()},getDom(){this.curTime=document.querySelector(".curTime"),this.totalTime=document.querySelector(".totalTime"),this.prev=document.querySelector(".prev"),this.circle=document.querySelector(".circle")},renderAllTime(t){this.duration=t,t=this.formatTime(t),this.totalTime.innerHTML=t},formatTime(t){t=Math.round(t);let e=Math.floor(t/60),i=t%60;return e=e<10?"0"+e:e,i=i<10?"0"+i:i,t=e+":"+i},move(t){cancelAnimationFrame(this.frameId),this.startTime=(new Date).getTime();let i=this;this.lastPer=void 0===t?this.lastPer:t,function t(){var e=(new Date).getTime(),e=i.lastPer+(e-i.startTime)/(1e3*i.duration);e<=1?i.update(e):cancelAnimationFrame(this.frameId),i.frameId=requestAnimationFrame(t)}()},update(t){this.curTime.innerHTML=this.formatTime(t*this.duration),this.prev.style.width=100*t+"%",this.circle.style.transform="translateX("+t*this.circle.parentNode.offsetWidth+"px)"},stop(){cancelAnimationFrame(this.frameId);var t=(new Date).getTime();this.lastPer+=(t-this.startTime)/(1e3*this.duration)}},i.prototype={init(){let i=this;this.obj.style.transform="translateX(0)",this.obj.addEventListener("touchstart",function(t){i.startPointX=t.changedTouches[0].pageX,i.startLeft=parseFloat(this.style.transform.split("(")[1]),i.start&&i.start()}),this.obj.addEventListener("touchmove",function(t){i.disPointX=t.changedTouches[0].pageX-i.startPointX;let e=i.startLeft+i.disPointX;e<0?e=0:e>this.offsetParent.offsetWidth&&(e=this.offsetParent.offsetWidth),this.style.transform="translate("+e+"px)",i.percent=e/this.offsetParent.offsetWidth,i.move&&i.move(i.percent)}),this.obj.addEventListener("touchend",function(){i.end&&i.end(i.percent)})}},t.progress={pro:function(){return new e},drag:function(t){return new i(t)}}}(window.player||window.player=={});